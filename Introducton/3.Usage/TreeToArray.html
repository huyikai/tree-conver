<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>树转数组 | Tree-Conver</title>
    <meta name="description" content="Tree data conversion tool">
    <meta name="generator" content="VitePress v1.0.0-rc.45">
    <link rel="preload stylesheet" href="/tree-conver/assets/style.DOCYbl2Q.css" as="style">
    
    <script type="module" src="/tree-conver/assets/app.BJk3ARg0.js"></script>
    <link rel="preload" href="/tree-conver/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/tree-conver/assets/chunks/framework.DupWrZfa.js">
    <link rel="modulepreload" href="/tree-conver/assets/chunks/theme.BUiUupnc.js">
    <link rel="modulepreload" href="/tree-conver/assets/chunks/CustomExample.Cf8yFv7p.js">
    <link rel="modulepreload" href="/tree-conver/assets/chunks/index.tgN0Al2D.js">
    <link rel="modulepreload" href="/tree-conver/assets/Introducton_3.Usage_TreeToArray.md.BgzuiIBl.lean.js">
    <link rel="icon" href="favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1f115b32><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1f115b32 data-v-7b5052ee><div class="VPNavBar has-sidebar" data-v-7b5052ee data-v-2ef5b13a><div class="container" data-v-2ef5b13a><div class="title" data-v-2ef5b13a><div class="VPNavBarTitle has-sidebar" data-v-2ef5b13a data-v-ab179fa1><a class="title" href="/tree-conver/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/tree-conver/static/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Tree-Conver</span><!--[--><!--]--></a></div></div><div class="content" data-v-2ef5b13a><div class="curtain" data-v-2ef5b13a></div><div class="content-body" data-v-2ef5b13a><!--[--><!--]--><div class="VPNavBarSearch search" data-v-2ef5b13a><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-2ef5b13a data-v-3b707760><span id="main-nav-aria-label" class="visually-hidden" data-v-3b707760>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-3b707760 data-v-3413d851><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-3413d851><span class="text" data-v-3413d851><!----><span data-v-3413d851>Introducton</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-3413d851><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-3413d851><div class="VPMenu" data-v-3413d851 data-v-3171c862><div class="items" data-v-3171c862><!--[--><!--[--><div class="VPMenuLink" data-v-3171c862 data-v-43f1e123><a class="VPLink link" href="/tree-conver/Introducton/1.What%20is%20TreeConver.html" data-v-43f1e123><!--[-->1.What is TreeConver<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-3171c862 data-v-43f1e123><a class="VPLink link" href="/tree-conver/Introducton/2.Getting%20Started.html" data-v-43f1e123><!--[-->2.Getting Started<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3171c862 data-v-8cbda59b><p class="title" data-v-8cbda59b>3.Usage</p><!--[--><div class="hasVPMenuGroupItem VPMenuGroupContainer" data-v-8cbda59b><div class="VPMenuLink" data-v-8cbda59b data-v-eaf58e7f><a class="VPLink link" href="/tree-conver/Introducton/3.Usage/ArrayToTree.html" data-v-eaf58e7f><!--[-->ArrayToTree<!--]--></a></div></div><div class="hasVPMenuGroupItem VPMenuGroupContainer" data-v-8cbda59b><div class="VPMenuLink" data-v-8cbda59b data-v-eaf58e7f><a class="VPLink link active" href="/tree-conver/Introducton/3.Usage/TreeToArray.html" data-v-eaf58e7f><!--[-->TreeToArray<!--]--></a></div></div><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-3b707760 data-v-3413d851><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-3413d851><span class="text" data-v-3413d851><!----><span data-v-3413d851>Playground</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-3413d851><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-3413d851><div class="VPMenu" data-v-3413d851 data-v-3171c862><div class="items" data-v-3171c862><!--[--><!--[--><div class="VPMenuLink" data-v-3171c862 data-v-43f1e123><a class="VPLink link" href="/tree-conver/Playground/ArrayToTree.html" data-v-43f1e123><!--[-->ArrayToTree<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-3171c862 data-v-43f1e123><a class="VPLink link" href="/tree-conver/Playground/TreeToArray.html" data-v-43f1e123><!--[-->TreeToArray<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-2ef5b13a data-v-88af2de4 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><span class="vpi-languages option-icon" data-v-b6c34ac9></span><!----><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>简体中文</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-43f1e123><a class="VPLink link" href="/tree-conver/en/Introducton/3.Usage/TreeToArray.html" data-v-43f1e123><!--[-->English<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-2ef5b13a data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-2ef5b13a data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/huyikai/tree-conver.git" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-2ef5b13a data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-d0bd9dde><p class="trans-title" data-v-d0bd9dde>简体中文</p><!--[--><div class="VPMenuLink" data-v-d0bd9dde data-v-43f1e123><a class="VPLink link" href="/tree-conver/en/Introducton/3.Usage/TreeToArray.html" data-v-43f1e123><!--[-->English<!--]--></a></div><!--]--></div><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/huyikai/tree-conver.git" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-2ef5b13a data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-1f115b32 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-1f115b32 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>Introducton</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/tree-conver/Introducton/1.What%20is%20TreeConver.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>1.What is TreeConver</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/tree-conver/Introducton/2.Getting%20Started.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>2.Getting Started</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible has-active" data-v-93e7e794 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h3 class="text" data-v-93e7e794>3.Usage</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/tree-conver/Introducton/3.Usage/ArrayToTree.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>ArrayToTree</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/tree-conver/Introducton/3.Usage/TreeToArray.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>TreeToArray</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1f115b32 data-v-3d29b473><div class="VPDoc has-sidebar has-aside" data-v-3d29b473 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>Catalog</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _tree-conver_Introducton_3_Usage_TreeToArray" data-v-39a288b8><div><h1 id="树转数组" tabindex="-1">树转数组 <a class="header-anchor" href="#树转数组" aria-label="Permalink to &quot;树转数组&quot;">​</a></h1><p>将树形结构的数据转换为扁平的数组。</p><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h2><p>接受两个参数：</p><ul><li><p><strong>Tree</strong>: 树形结构数组</p></li><li><p><strong>Options</strong>: 一个可选的参数对象，用于配置转换方法的具体行为</p><table><thead><tr><th>属性</th><th>描述</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>addFields</td><td>需要添加的字段名称及其对应的属性值计算方法的列表</td><td>[{ fieldName: string;callback: (item) =&gt; any }]</td><td>[]</td></tr><tr><td>childrenKey</td><td>子节点的键名</td><td>string</td><td>&#39;children&#39;</td></tr><tr><td>ignoreFields</td><td>要忽略的字段名称列表</td><td>string[]</td><td>[]</td></tr><tr><td>needParentId</td><td>是否添加节点信息的父节点 ID</td><td>boolean</td><td>true</td></tr><tr><td>primaryKey</td><td>节点的主键名</td><td>boolean</td><td>true</td></tr></tbody></table></li></ul><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> treeArray</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Node 1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    list: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Node 2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        list: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Node 3&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Node 4&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calculateDepth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> depth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (parent) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    depth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      parent[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;parentId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> treeArray.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">n</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parent[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;parentId&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> depth;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  childrenKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;list&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ignoreFields: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addFields: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      fieldName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hasChildren&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add a new &#39;field&#39; property with a boolean value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(node[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;children&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      fieldName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;depth&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add a new &#39;depth&#39; property with the depth of each node</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      callback: calculateDepth</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  needParentId: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> flatArray</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> treeToArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(treeArray, options);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(flatArray);</span></span></code></pre></div><p>[
  {
    &quot;id&quot;: &quot;1&quot;,
    &quot;name&quot;: &quot;Node 1&quot;,
    &quot;parentId&quot;: &quot;&quot;,
    &quot;hasChildren&quot;: false,
    &quot;depth&quot;: 1
  },
  {
    &quot;id&quot;: &quot;2&quot;,
    &quot;name&quot;: &quot;Node 2&quot;,
    &quot;parentId&quot;: &quot;1&quot;,
    &quot;hasChildren&quot;: false,
    &quot;depth&quot;: 1
  },
  {
    &quot;id&quot;: &quot;3&quot;,
    &quot;name&quot;: &quot;Node 3&quot;,
    &quot;parentId&quot;: &quot;2&quot;,
    &quot;hasChildren&quot;: false,
    &quot;depth&quot;: 1
  },
  {
    &quot;id&quot;: &quot;4&quot;,
    &quot;name&quot;: &quot;Node 4&quot;,
    &quot;parentId&quot;: &quot;1&quot;,
    &quot;hasChildren&quot;: false,
    &quot;depth&quot;: 1
  }
]</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>Last updated: <time datetime="2024-03-10T08:47:17.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/tree-conver/Introducton/3.Usage/ArrayToTree.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Pervious</span><span class="title" data-v-09de1c0f>ArrayToTree</span><!--]--></a></div><div class="pager" data-v-09de1c0f><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1f115b32 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2022</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_introducton_3.usage_treetoarray.md\":\"Ci4H4BGi\",\"en_introducton_1.what is treeconver.md\":\"15P2XsTD\",\"index.md\":\"DSx55Pyq\",\"playground_treetoarray.md\":\"ByW5g-4O\",\"en_introducton_2.getting started.md\":\"Cg_hWFF2\",\"introducton_1.what is treeconver.md\":\"T2ct1fvD\",\"en_introducton_3.usage_arraytotree.md\":\"BhcRR9Sm\",\"en_playground_treetoarray.md\":\"C2ZdIWev\",\"introducton_2.getting started.md\":\"CnkvcP7P\",\"en_playground_arraytotree.md\":\"BYBOSjBf\",\"introducton_3.usage_treetoarray.md\":\"BgzuiIBl\",\"introducton_3.usage_arraytotree.md\":\"Dv1yHeQJ\",\"playground_arraytotree.md\":\"CqNxPHvD\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Tree-Conver\",\"description\":\"Tree data conversion tool\",\"base\":\"/tree-conver/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Tree-Conver\",\"outlineTitle\":\"Catalog\",\"search\":{\"provider\":\"local\"},\"docFooter\":{\"prev\":\"Pervious\",\"next\":\"Next\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2022\"},\"logo\":\"/static/logo.svg\",\"lastUpdated\":true,\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/huyikai/tree-conver.git\"}],\"nav\":[{\"text\":\"Introducton\",\"id\":\"905e9be6-50a2-4dc2-8706-2f39e2d9c643\",\"parentId\":\"\",\"items\":[{\"text\":\"1.What is TreeConver\",\"link\":\"/Introducton/1.What is TreeConver.md\",\"id\":\"68f92499-d880-49a6-b00c-138de4c7dbfc\",\"parentId\":\"905e9be6-50a2-4dc2-8706-2f39e2d9c643\",\"items\":[]},{\"text\":\"2.Getting Started\",\"link\":\"/Introducton/2.Getting Started.md\",\"id\":\"cf505625-7118-4ba1-9fa6-83a78998202a\",\"parentId\":\"905e9be6-50a2-4dc2-8706-2f39e2d9c643\",\"items\":[]},{\"text\":\"3.Usage\",\"id\":\"0434a235-4df1-47dc-a2a7-f32a2de31b27\",\"parentId\":\"905e9be6-50a2-4dc2-8706-2f39e2d9c643\",\"items\":[{\"text\":\"ArrayToTree\",\"link\":\"/Introducton/3.Usage/ArrayToTree.md\",\"id\":\"57c84082-ccd4-4101-9c9c-b79859145926\",\"parentId\":\"0434a235-4df1-47dc-a2a7-f32a2de31b27\",\"items\":[]},{\"text\":\"TreeToArray\",\"link\":\"/Introducton/3.Usage/TreeToArray.md\",\"id\":\"2ae92559-97f1-44ac-880a-ee514e9eca52\",\"parentId\":\"0434a235-4df1-47dc-a2a7-f32a2de31b27\",\"items\":[]}]}]},{\"text\":\"Playground\",\"id\":\"30bf3c6a-054a-42bb-b86f-f40c58b6ce21\",\"parentId\":\"\",\"items\":[{\"text\":\"ArrayToTree\",\"link\":\"/Playground/ArrayToTree.md\",\"id\":\"eed025d8-3b2a-4c7e-817f-3a8b59368a95\",\"parentId\":\"30bf3c6a-054a-42bb-b86f-f40c58b6ce21\",\"items\":[]},{\"text\":\"TreeToArray\",\"link\":\"/Playground/TreeToArray.md\",\"id\":\"5b249810-d7b8-4a66-9dca-4d7e878533e4\",\"parentId\":\"30bf3c6a-054a-42bb-b86f-f40c58b6ce21\",\"items\":[]}]}],\"sidebar\":{\"/Introducton/\":[{\"text\":\"Introducton\",\"collapsed\":false,\"items\":[{\"text\":\"1.What is TreeConver\",\"id\":\"23cc11b0-213d-4dd3-b8c8-231d85ee66ee\",\"dir\":\"Introducton\",\"parentId\":\"db645a6d-23e2-473a-a366-2520d07c9507\",\"link\":\"/Introducton/1.What is TreeConver.md\",\"items\":[]},{\"text\":\"2.Getting Started\",\"id\":\"70cc014a-83a0-4239-99b2-d3e1724af556\",\"dir\":\"Introducton\",\"parentId\":\"db645a6d-23e2-473a-a366-2520d07c9507\",\"link\":\"/Introducton/2.Getting Started.md\",\"items\":[]},{\"text\":\"3.Usage\",\"id\":\"75758353-2be2-4c82-8390-3762385f67dd\",\"dir\":\"Introducton/3.Usage\",\"parentId\":\"db645a6d-23e2-473a-a366-2520d07c9507\",\"collapsed\":false,\"items\":[{\"text\":\"ArrayToTree\",\"id\":\"192bebc0-05ca-4013-b5d9-d3d111d6b598\",\"dir\":\"Introducton/3.Usage\",\"parentId\":\"75758353-2be2-4c82-8390-3762385f67dd\",\"link\":\"/Introducton/3.Usage/ArrayToTree.md\",\"items\":[]},{\"text\":\"TreeToArray\",\"id\":\"cf6726f0-4213-42db-a4df-bb546d362817\",\"dir\":\"Introducton/3.Usage\",\"parentId\":\"75758353-2be2-4c82-8390-3762385f67dd\",\"link\":\"/Introducton/3.Usage/TreeToArray.md\",\"items\":[]}]}]}],\"/Playground/\":[{\"text\":\"Playground\",\"collapsed\":false,\"items\":[{\"text\":\"ArrayToTree\",\"id\":\"3f04b24f-fd32-48e1-8e34-4df527c9763d\",\"dir\":\"Playground\",\"parentId\":\"f927fbec-0b50-4500-90af-f2ff36fbb6bd\",\"link\":\"/Playground/ArrayToTree.md\",\"items\":[]},{\"text\":\"TreeToArray\",\"id\":\"26317858-1854-4750-a790-ff42e73d5611\",\"dir\":\"Playground\",\"parentId\":\"f927fbec-0b50-4500-90af-f2ff36fbb6bd\",\"link\":\"/Playground/TreeToArray.md\",\"items\":[]}]}]}},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh\"},\"en\":{\"label\":\"English\",\"lang\":\"en\",\"themeConfig\":{\"nav\":[{\"text\":\"Introducton\",\"id\":\"d321fd89-a3ec-470a-8777-768c62b308ee\",\"parentId\":\"990ea89f-fc1b-4a0e-80ed-eee4d80b37bf\",\"items\":[{\"text\":\"1.What is TreeConver\",\"link\":\"/en/Introducton/1.What is TreeConver.md\",\"id\":\"be2e2303-1f6f-4b24-9144-44bb8573d421\",\"parentId\":\"d321fd89-a3ec-470a-8777-768c62b308ee\",\"items\":[]},{\"text\":\"2.Getting Started\",\"link\":\"/en/Introducton/2.Getting Started.md\",\"id\":\"1db07def-d1d2-418d-ab3a-905b5938ccbd\",\"parentId\":\"d321fd89-a3ec-470a-8777-768c62b308ee\",\"items\":[]},{\"text\":\"3.Usage\",\"id\":\"ea619e3f-a3b6-4812-9481-f14972b016fd\",\"parentId\":\"d321fd89-a3ec-470a-8777-768c62b308ee\",\"items\":[{\"text\":\"ArrayToTree\",\"link\":\"/en/Introducton/3.Usage/ArrayToTree.md\",\"id\":\"3c727349-f6c3-4bf8-942a-2587c273833f\",\"parentId\":\"ea619e3f-a3b6-4812-9481-f14972b016fd\",\"items\":[]},{\"text\":\"TreeToArray\",\"link\":\"/en/Introducton/3.Usage/TreeToArray.md\",\"id\":\"e111658a-db4c-4ab3-93f6-bead0459b66a\",\"parentId\":\"ea619e3f-a3b6-4812-9481-f14972b016fd\",\"items\":[]}]}]},{\"text\":\"Playground\",\"id\":\"0793ebf5-20d5-4e19-93da-ff1dd38d7cb1\",\"parentId\":\"990ea89f-fc1b-4a0e-80ed-eee4d80b37bf\",\"items\":[{\"text\":\"ArrayToTree\",\"link\":\"/en/Playground/ArrayToTree.md\",\"id\":\"57ad7e1b-bdf5-46ce-8f30-2c8ed654827f\",\"parentId\":\"0793ebf5-20d5-4e19-93da-ff1dd38d7cb1\",\"items\":[]},{\"text\":\"TreeToArray\",\"link\":\"/en/Playground/TreeToArray.md\",\"id\":\"a09246c4-bc63-46f4-82a4-f783d0956184\",\"parentId\":\"0793ebf5-20d5-4e19-93da-ff1dd38d7cb1\",\"items\":[]}]}],\"sidebar\":{\"/en/\":[{\"text\":\"Introducton\",\"id\":\"adb13dfa-5207-4ffa-b766-81b798b9402e\",\"dir\":\"en/Introducton\",\"parentId\":\"667a0033-500a-446c-b14a-fb5e0ec72ee0\",\"items\":[{\"text\":\"1.What is TreeConver\",\"id\":\"fa9af0f9-ce43-40ff-844a-81bf7cb3c10b\",\"dir\":\"en/Introducton\",\"parentId\":\"adb13dfa-5207-4ffa-b766-81b798b9402e\",\"link\":\"/en/Introducton/1.What is TreeConver.md\",\"items\":[]},{\"text\":\"2.Getting Started\",\"id\":\"8ffcd8e0-937e-4870-b763-c5d473bc4144\",\"dir\":\"en/Introducton\",\"parentId\":\"adb13dfa-5207-4ffa-b766-81b798b9402e\",\"link\":\"/en/Introducton/2.Getting Started.md\",\"items\":[]},{\"text\":\"3.Usage\",\"id\":\"6f85d8e1-0b9b-4ec8-8065-2be454c583d6\",\"dir\":\"en/Introducton/3.Usage\",\"parentId\":\"adb13dfa-5207-4ffa-b766-81b798b9402e\",\"items\":[{\"text\":\"ArrayToTree\",\"id\":\"79b9ee08-ba8b-4f2f-b3a7-4bfdc2daada0\",\"dir\":\"en/Introducton/3.Usage\",\"parentId\":\"6f85d8e1-0b9b-4ec8-8065-2be454c583d6\",\"link\":\"/en/Introducton/3.Usage/ArrayToTree.md\",\"items\":[]},{\"text\":\"TreeToArray\",\"id\":\"27c640d2-e45d-4056-848c-4a6381cbe3cd\",\"dir\":\"en/Introducton/3.Usage\",\"parentId\":\"6f85d8e1-0b9b-4ec8-8065-2be454c583d6\",\"link\":\"/en/Introducton/3.Usage/TreeToArray.md\",\"items\":[]}]}]},{\"text\":\"Playground\",\"id\":\"338b6316-d3c9-44cf-8e90-ebcf338bb348\",\"dir\":\"en/Playground\",\"parentId\":\"667a0033-500a-446c-b14a-fb5e0ec72ee0\",\"items\":[{\"text\":\"ArrayToTree\",\"id\":\"3a2ba165-664a-41bf-9528-53ee886ce0fb\",\"dir\":\"en/Playground\",\"parentId\":\"338b6316-d3c9-44cf-8e90-ebcf338bb348\",\"link\":\"/en/Playground/ArrayToTree.md\",\"items\":[]},{\"text\":\"TreeToArray\",\"id\":\"9fdba908-d266-4bcb-b657-eb5b963d0d72\",\"dir\":\"en/Playground\",\"parentId\":\"338b6316-d3c9-44cf-8e90-ebcf338bb348\",\"link\":\"/en/Playground/TreeToArray.md\",\"items\":[]}]}]}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>